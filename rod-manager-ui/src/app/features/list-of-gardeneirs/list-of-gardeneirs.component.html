<ngx-spinner bdColor = "rgba(0, 0, 0, 0.9)" size = "large" color = "#009688" type = "square-jelly-box" [fullScreen] = "true"><p style="color: white" ></p></ngx-spinner>

<div class="page-container">
  <mat-card class="large-card-size">
    <mat-card-header class="row-container">
      <div class="center-item row-item">
        <h2 class="title">Lista zaległości</h2>
      </div>

    </mat-card-header>
    <mat-card-content>
      <table mat-table [dataSource]="dataProfiles" class="mainTable">
        <ng-container matColumnDef="firstName">
          <th mat-header-cell *matHeaderCellDef>Imie</th>
          <td mat-cell *matCellDef="let profile">{{ profile.first_name }}</td>
        </ng-container>

        <ng-container matColumnDef="lastName">
          <th mat-header-cell *matHeaderCellDef>Nazwisko</th>
          <td mat-cell *matCellDef="let profile">{{ profile.last_name }}</td>
        </ng-container>

        <ng-container matColumnDef="phoneNumber">
          <th mat-header-cell *matHeaderCellDef>Numer telefonu</th>
          <td mat-cell *matCellDef="let profile">{{ profile.phone | phoneNumber  }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>Email</th>
          <td mat-cell *matCellDef="let profile">{{ profile.email}}</td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Zadłużenie</th>
          <td mat-cell *matCellDef="let profile" class="red">{{ (-1)*profile.balance+' zł'}}</td>
        </ng-container>

        <ng-container matColumnDef="info">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let profile" class="icon-size">
            <button mat-icon-button class="icon-button"
                    (click)="selectEditPayments(profile.id)">
              <mat-icon>info</mat-icon>
            </button>
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let profile; columns: displayedColumns"></tr>
      </table>
      <app-paginator
        #paginator
        [loadDataFunction]="fetchData.bind(this)"
        [totalItemsCount]="this.totalGardeneirsCount"
        [pageSize]="this.DefoultpageSize"
      ></app-paginator>
    </mat-card-content>
  </mat-card>
</div>
